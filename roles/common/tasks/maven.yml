
- name: Install maven
  yum:
    name:
      - maven
    state: present
- name: Application user setup and Download app files
  import_tasks: app-user-setup.yml

- name: compile code
  ansible.builtin.shell: mvn clean package && mv target/{{COMPONENT}}-1.0.jar {{COMPONENT}}.jar
  args:
    chdir: /home/roboshop/{{COMPONENT}}
  become_user: roboshop
#- name: Update catlogue systemd file
#  ansible.builtin.template:
#    src: systemd.service
#    dest: /etc/systemd/system/{{COMPONENT}}.service
#
#- name: start {{COMPONENT}} systemd
#  ansible.builtin.systemd:
#    name: "{{COMPONENT}}"
#    state: restarted
#    enabled: yes
#    daemon-reload: yes